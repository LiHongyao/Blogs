# HBuilderXs

## 01. æ ¼å¼åŒ–å¤„ç†

é—®é¢˜æè¿°ï¼š**HBuilderXè‡ªå¸¦æ ¼å¼åŒ–ï¼Œåªè¦è¯†åˆ«åˆ°èŠ±æ‹¬å·å°±æ¢è¡Œï¼Œå¦‚ä½•è§£å†³ï¼Ÿ**

è§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹ç¼–è¾‘å™¨æ ¼å¼åŒ–çš„é…ç½®æ–‡ä»¶

- å¿«æ·é”® `CMD` + `,` è¿›å…¥åå¥½è®¾ç½® â†’ æ’ä»¶é…ç½® â†’ **`jsbeautifyrc.js`**
- å°† **`brace_style`** å€¼è®¾ä¸º **`preserve-inline`**

# Technologies

## 01. å°ç¨‹åºä¸H5é€šä¿¡

é—®é¢˜æè¿°ï¼š**å¼€å‘å¾®ä¿¡å°ç¨‹åºæ—¶ä½¿ç”¨webviewåŠ è½½H5é¡µé¢ï¼Œå¦‚ä½•é€šä¿¡ï¼Ÿ**

- [å‚è€ƒæŒ‡å— >>](https://uniapp.dcloud.net.cn/component/web-view.html#web-view)

- [å¾®ä¿¡å°ç¨‹åºç›¸å…³æ–‡æ¡£ >>](https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html)

**ğŸ‘‰å°ç¨‹åºä¼ é€’æ•°æ®è‡³H5**

ç›®å‰å¾®ä¿¡å°ç¨‹åºå®˜æ–¹ä¸æ”¯æŒå°ç¨‹åºä¼ å‚è‡³H5ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡URI-queryä¼ é€’æ•°æ®ã€‚

**ğŸ‘‰H5ä¼ é€’æ•°æ®è‡³å°ç¨‹åº**

1. å¼•å…¥JS-SDK

   ```html
   <script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
   ```

2. ä¸‹è½½ [uni.webview.js >>](https://gitee.com/dcloud/uni-app/raw/dev/dist/uni.webview.1.5.4.js) è‡³æœ¬åœ°H5ç›®å½•ï¼Œç„¶åæ ¼å¼åŒ–ï¼Œä¿®æ”¹ä»£ç ï¼š

   ```js
   // -- ä¿®æ”¹å‰
   ((e = e || self).uni = n())
   // -- ä¿®æ”¹å
   ((e = e || self).webUni = n())
   ```

   > **æç¤ºï¼š**æ­¤ä¸¾æ˜¯ä¸ºäº†é¿å…å‘½åå†²çªï¼Œå°† `uni` ä¿®æ”¹ä¸º `webUni`ã€‚

3. åœ¨ **main.ts** æ–‡ä»¶ä¸­å¼•å…¥

   ```js
   import './libs/uni.webview.1.5.4';
   
   document.addEventListener('UniAppJSBridgeReady', function () {
     console.log('__UniAppJSBridgeReady__');
   });
   ```

4. åœ¨éœ€è¦äº¤äº’çš„åœ°æ–¹é€šè¿‡ **postMessage** å‘é€æ¶ˆæ¯ï¼š

   ```tsx
   window.webUni.postMessage({
     data: {
       action: 'ä¼ é€’çš„æ•°æ®',
     }
   });
   ```

5. åœ¨uniappä¸­ï¼Œç»‘å®š **@message** äº‹ä»¶ç›‘å¬ï¼š

   ```vue
   <web-view :src="APP_H5_URI" @message='getMessage'></web-view>
   
   <script>
     const getMessage = ({ detail: { data } }) => {
   		console.log(data[0]);
   	}
   </script>
   ```

   > **æç¤ºï¼š**
   >
   > - å‘å°ç¨‹åºå‘é€æ¶ˆæ¯ï¼Œä¼šåœ¨ç‰¹å®šæ—¶æœºï¼ˆå°ç¨‹åºåé€€ã€ç»„ä»¶é”€æ¯ã€åˆ†äº«ï¼‰è§¦å‘ç»„ä»¶çš„ message äº‹ä»¶ã€‚
   > - è¿”å›çš„æ•°æ®æ˜¯ä¸€ä¸ªåˆ—è¡¨